<behaviortree name="ShockTrooper1" precondition="" repeatuntil="" debug="False"><sequencer name="root" precondition="" repeatuntil="" debug="False"><action name="Shock Trooper Setup" precondition="" repeatuntil="" debug="False" classname="ShockTrooperSetupAction" /><selector name="Shock Trooper Behavior" precondition="" repeatuntil="running" debug="False"><condition name="condition" precondition="" repeatuntil="" debug="False" expression="dead == 1" /><parallel name="main loop" precondition="health &gt; 0" repeatuntil="" debug="False" fail="any" succeed="any" tiebreaker="fail"><sequencer name="melee behavior" precondition="domelee != 1" repeatuntil="" debug="False"><assign name="set melee false" precondition="" repeatuntil="" debug="False" expression="domelee = 0" /><detect name="detect melee target" precondition="" repeatuntil="success" debug="False" sensor="MeleeSensor" aspect="meleetarget" variable="meleetarget" /><assign name="set melee true" precondition="" repeatuntil="" debug="False" expression="domelee = 1" /></sequencer><selector name="main behavior" precondition="domelee != 1" repeatuntil="" debug="False"><selector name="patrol" precondition="health &gt; 0" repeatuntil="" debug="False"><parallel name="patroluntilenemy" precondition="enemy != 1" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><sequencer name="patrol checklist" precondition="" repeatuntil="failure" debug="False"><assign name="set stop patrol" precondition="" repeatuntil="" debug="False" expression="quitpatrol = 1" /><condition name="not dead" precondition="" repeatuntil="" debug="False" expression="health &gt; 0" /><condition name="not enemy" precondition="" repeatuntil="" debug="False" expression="enemy != 1" /><condition name="not shot" precondition="" repeatuntil="" debug="False" expression="gothit != 1" /><assign name="set start patrol" precondition="" repeatuntil="" debug="False" expression="quitpatrol = 0" /></sequencer><sequencer name="detect enemy" precondition="quitpatrol != 1" repeatuntil="" debug="False"><detect name="wait until enemy detected" precondition="" repeatuntil="success" debug="False" sensor="SightSensor" aspect="player" variable="enemytarget" /><assign name="set enemy known" precondition="" repeatuntil="" debug="False" expression="enemy = 1" /><assign name="set enemy in visual sight" precondition="" repeatuntil="" debug="False" expression="enemysight = 1" /></sequencer><sequencer name="Patrol" precondition="quitpatrol != 1" repeatuntil="" debug="False"><sequencer name="patrolinit" precondition="" repeatuntil="" debug="False"><action name="patrol find nearest" precondition="" repeatuntil="" debug="False" classname="PatrolFindNearest" /><move name="go to patrol point" precondition="" repeatuntil="" debug="False" movetarget="patrolposition" movespeed="1.5" animation="Walk" animationlayer="0" animationwrapmode="loop" animationbasespeed="1.5" /><selector name="patrolroot" precondition="" repeatuntil="running" debug="False"><sequencer name="sequencer" precondition="" repeatuntil="failure" debug="False"><action name="patrol get next" precondition="" repeatuntil="" debug="False" classname="PatrolGetNext" /><move name="go to patrol point" precondition="" repeatuntil="" debug="False" movetarget="patrolposition" movespeed="1.5" animation="Walk" animationlayer="0" animationwrapmode="loop" animationbasespeed="1.5" /></sequencer><action name="patrol switch direction" precondition="" repeatuntil="" debug="False" classname="PatrolSwitchDirection" /></selector></sequencer></sequencer></parallel></selector><selector name="Attack" precondition="health &gt; 0" repeatuntil="" debug="False"><sequencer name="attack" precondition="enemysight == 1" repeatuntil="" debug="False"><condition name="condition" precondition="" repeatuntil="" debug="False" expression="gothit != 1" /><move name="Look" precondition="" repeatuntil="" debug="False" looktarget="enemytarget" lookspeed="180" animation="AimLoop" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /><parallel name="firing loop" precondition="ammo &gt; 0" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><condition name="condition" precondition="" repeatuntil="failure" debug="False" expression="gothit != 1" /><move name="Look" precondition="" repeatuntil="running" debug="False" looktarget="enemytarget" lookspeed="180" animation="FireLoop" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /><animate name="fire" precondition="" repeatuntil="" debug="False" animation="FireLoop" waitforsec="0" layer="0" wrapmode="loop" fadein="0" fadeout="0" /><selector name="selector" precondition="" repeatuntil="" debug="False"><detect name="maintain sight of target" precondition="" repeatuntil="failure" debug="False" sensor="SightSensor" aspect="player" variable="enemytarget2" /><assign name="set target sight lost" precondition="" repeatuntil="" debug="False" expression="enemysight = 0" /></selector><action name="Fire Primary Weapon" precondition="" repeatuntil="running" debug="False" classname="Shoot" /></parallel></sequencer><sequencer name="reload" precondition="ammo &lt; 1" repeatuntil="" debug="False"><animate name="reload" precondition="" repeatuntil="" debug="False" animation="Reload" waitforsec="3" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><action name="Reload Primary Weapon" precondition="" repeatuntil="" debug="False" classname="Reload" /></sequencer></selector><parallel name="Seek" precondition="enemysight != 1" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><sequencer name="seek checklist" precondition="" repeatuntil="running" debug="False"><assign name="set quit seek" precondition="" repeatuntil="" debug="False" expression="quitseek = 1" /><condition name="not dead" precondition="" repeatuntil="" debug="False" expression="health &gt; 0" /><condition name="have enemy" precondition="" repeatuntil="" debug="False" expression="enemy == 1" /><condition name="not shot" precondition="" repeatuntil="" debug="False" expression="gothit != 1" /><assign name="set start seek" precondition="" repeatuntil="" debug="False" expression="quitseek = 0" /></sequencer><sequencer name="look for enemy" precondition="quitseek == 0" repeatuntil="running" debug="False"><detect name="detect" precondition="" repeatuntil="success" debug="False" sensor="SightSensor" aspect="player" variable="enemytarget2" /><assign name="forget enemy" precondition="" repeatuntil="" debug="False" expression="enemy = 0" /><detect name="detect" precondition="" repeatuntil="" debug="False" sensor="SightSensor" aspect="player" variable="enemytarget" /><assign name="set enemy" precondition="" repeatuntil="" debug="False" expression="enemy = 1" /><assign name="set enemysight" precondition="" repeatuntil="" debug="False" expression="enemysight = 1" /></sequencer><selector name="selector" precondition="quitseek == 0" repeatuntil="" debug="False"><move name="move" precondition="enemysight != 1" repeatuntil="" debug="False" movetarget="enemytarget" movespeed="4" animation="RunLoop" animationlayer="0" animationwrapmode="loop" animationbasespeed="2" /></selector></parallel><sequencer name="react to getting hit" precondition="gothit == 1" repeatuntil="" debug="False"><assign name="reset gothit" precondition="" repeatuntil="" debug="False" expression="gothit = 0" /><condition name="condition" precondition="" repeatuntil="" debug="False" expression="health &gt; 0" /><assign name="set enemy known" precondition="" repeatuntil="" debug="False" expression="enemy = 1" /><selector name="selector 14410" precondition="" repeatuntil="" debug="False"><animate name="HitTorsoLeft" precondition="hitloc == 33" repeatuntil="" debug="False" animation="HitTorsoLeft" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitTorsoRight" precondition="hitloc == 40" repeatuntil="" debug="False" animation="HitTorsoRight" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitTorsoBack" precondition="hitloc == 36" repeatuntil="" debug="False" animation="HitTorsoBack" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitTorsoFront" precondition="hitloc == 34" repeatuntil="" debug="False" animation="HitTorsoBack" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HeadShotLeft" precondition="hitloc == 17" repeatuntil="" debug="False" animation="HeadShotLeft" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HeadShotRight" precondition="hitloc == 24" repeatuntil="" debug="False" animation="HeadShotRight" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HeadShotBack" precondition="hitloc == 20" repeatuntil="" debug="False" animation="HeadShotBack" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HeadShotFront" precondition="hitloc == 18" repeatuntil="" debug="False" animation="HeadShotFront" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitLegsLeft" precondition="hitloc == 65" repeatuntil="" debug="False" animation="HitLegsLeft" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitLegsRight" precondition="hitloc == 72" repeatuntil="" debug="False" animation="HitLegsRight" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitLegsBack" precondition="hitloc == 68" repeatuntil="" debug="False" animation="HitLegsBack" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><animate name="HitLegsFront" precondition="hitloc == 66" repeatuntil="" debug="False" animation="HitLegsFront" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /></selector></sequencer></selector></parallel><sequencer name="melee" precondition="health &gt; 0" repeatuntil="" debug="False"><condition name="condition" precondition="" repeatuntil="" debug="False" expression="domelee == 1" /><animate name="animate melee 1/2" precondition="" repeatuntil="" debug="False" animation="MeleeAttack" waitforsec="0.5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><action name="Melee Attack" precondition="" repeatuntil="" debug="False" classname="Melee" /><animate name="animate 29514" precondition="" repeatuntil="" debug="False" animation="MeleeAttack" waitforsec="0.6" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><sequencer name="sequencer 1618" precondition="" repeatuntil="" debug="False"><assign name="assign 1044" precondition="" repeatuntil="" debug="False" expression="domelee = 0" /><detect name="detect 6359" precondition="" repeatuntil="" debug="False" sensor="MeleeSensor" aspect="meleetarget" variable="meleetarget" /><assign name="assign 6715" precondition="" repeatuntil="" debug="False" expression="domelee = 1" /></sequencer></sequencer><sequencer name="die" precondition="health &lt;= 0" repeatuntil="" debug="False"><assign name="assign" precondition="" repeatuntil="" debug="False" expression="dead = 1" /><animate name="die" precondition="" repeatuntil="" debug="False" animation="DieEasy" waitforsec="5" layer="0" wrapmode="clamp" fadein="0" fadeout="0" /><action name="Die" precondition="" repeatuntil="" debug="False" classname="Die" /></sequencer></selector></sequencer></behaviortree>