<behaviortree name="Rat" precondition="" repeatuntil="" debug="False"><sequencer name="root" precondition="" repeatuntil="" debug="False"><action name="Rat Setup" precondition="" repeatuntil="" debug="False" classname="RatSetupAction" /><selector name="Rat Behavior" precondition="" repeatuntil="" debug="False"><condition name="condition" precondition="" repeatuntil="" debug="False" expression="dead == 1" /><selector name="mainBehavior" precondition="health &gt; 0" repeatuntil="" debug="False"><parallel name="findfoodandwander" precondition="gothit != 1" repeatuntil="" debug="False" fail="any" succeed="all" tiebreaker="fail"><sequencer name="findfood" precondition="" repeatuntil="running" debug="False"><detect name="detect food" precondition="" repeatuntil="success" debug="False" sensor="SightSensor" aspect="food" variable="food" /><assign name="assign food" precondition="" repeatuntil="" debug="False" expression="foundfood = 1" /></sequencer><sequencer name="wander" precondition="" repeatuntil="" debug="False"><sequencer name="wanderroot" precondition="" repeatuntil="" debug="False"><action name="find random waypoint" precondition="" repeatuntil="" debug="False" classname="GetRandomRatWaypoint" /><move name="go to waypoint" precondition="" repeatuntil="" debug="False" movetarget="waypointposition" movespeed="1" animation="Walk" animationlayer="0" animationwrapmode="loop" animationbasespeed="0.4" /><selector name="do pathfollow" precondition="" repeatuntil="running" debug="False"><sequencer name="sequencer" precondition="" repeatuntil="" debug="False"><action name="find random waypoint" precondition="" repeatuntil="" debug="False" classname="GetRandomRatWaypoint" /><move name="go to waypoint" precondition="" repeatuntil="" debug="False" movetarget="waypointposition" movespeed="1" animation="Walk" animationlayer="0" animationwrapmode="loop" animationbasespeed="0.4" /></sequencer><condition name="force true result" precondition="" repeatuntil="" debug="False" expression="1 == 1" /></selector></sequencer></sequencer><condition name="condition" precondition="" repeatuntil="failure" debug="False" expression="(currenttime &lt; hungry) || (foundfood != 1)" /></parallel><sequencer name="deal with food" precondition="foundfood == 1" repeatuntil="" debug="False"><sequencer name="Move" precondition="gothit != 1" repeatuntil="" debug="False"><move name="move" precondition="" repeatuntil="" debug="False" movetarget="food" movespeed="1" animation="Walk" animationlayer="0" animationwrapmode="loop" animationbasespeed="0.4" /></sequencer><sequencer name="Eat" precondition="gothit != 1" repeatuntil="" debug="False"><animate name="animate" precondition="" repeatuntil="" debug="False" animation="Eating" waitforsec="4" layer="0" wrapmode="default" fadein="0" fadeout="0" /></sequencer><assign name="assign" precondition="" repeatuntil="" debug="False" expression="foundfood = 0" /><assign name="assign" precondition="" repeatuntil="" debug="False" expression="hungry = currenttime + 40" /></sequencer></selector><sequencer name="Run Away" precondition="health &gt; 0" repeatuntil="" debug="False"><sequencer name="RunAway" precondition="gothit == 1" repeatuntil="" debug="False"><sequencer name="runawayroot" precondition="" repeatuntil="" debug="False"><action name="find furthest waypoint" precondition="" repeatuntil="" debug="False" classname="GetFurthestRatWaypoint" /><move name="go to waypoint" precondition="" repeatuntil="" debug="False" movetarget="waypointposition" movespeed="3" animation="Run" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /><selector name="do pathfollow" precondition="" repeatuntil="" debug="False"><sequencer name="sequencer" precondition="" repeatuntil="" debug="False"><action name="find furthest waypoint" precondition="" repeatuntil="" debug="False" classname="GetFurthestRatWaypoint" /><move name="go to waypoint" precondition="" repeatuntil="" debug="False" movetarget="waypointposition" movespeed="3" animation="Run" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /></sequencer><condition name="force true result" precondition="" repeatuntil="" debug="False" expression="1 == 1" /></selector></sequencer></sequencer><assign name="assign" precondition="" repeatuntil="" debug="False" expression="gothit = 0" /></sequencer><sequencer name="die" precondition="health &lt;= 0" repeatuntil="" debug="False"><animate name="animate" precondition="" repeatuntil="" debug="False" animation="Die" waitforsec="2" layer="0" wrapmode="default" fadein="0" fadeout="0" /><assign name="assign" precondition="" repeatuntil="running" debug="False" expression="dead = 1" /></sequencer></selector></sequencer><variable name="dead" initialvalue="0" /><variable name="health" initialvalue="0" /><variable name="gothit" initialvalue="0" /><variable name="foundfood" initialvalue="0" /><variable name="currenttime" initialvalue="0" /></behaviortree>